---
title: "nextra + SGG + S3 + Terraform = 💪"
emoji: "📝"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [nextra, s3, terraform]
published: false
---

[nextra](https://nextra.site/) 知ってますか？

Markdown や MDX で書いたドキュメントを Next.js でいい感じに表示してくれる強力なフレームワークです。
リンク先のサイトも nextra で作られていますし、このようなサイトをみなさんもミニマムなコードで作れるようになります。

業務でレポジトリの奥深くに眠っていた貴重な資料が Markdown ファイルで書かれていたものの、誰の目にも触れられず勿体ないと思い nextra で表示することにしたので、その際にやったことをまとめます。

## 要件

さて、要件ですがランニングコストや運用の手間、セキュリティなどを考えて以下のような要件を満たす必要がありました。また、ドキュメントを書くこと以外で手間がかかるような状態では、せっかくのドキュメントも更新されないので、できるだけ自動化したいというのもありました。

- 社内環境以外からはアクセスできない
- ドメインを使いたい
- 静的サイトホスティングを使いたい
- ドキュメントの更新は CI/CD で自動化したい

## 構成

## やり方

nextra の使い方はいたって簡単で、 Next.js の pages ルーターを使ったことがある人だったらすぐに使いこなせると思います。

自分は pnpm を使っているので、以下のコマンドで nextra をインストールしました。

```bash
pnpm add next react react-dom nextra nextra-theme-docs
```
